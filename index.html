<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>ì²­ì¶˜ ì—°ê°„ ì‹œë®¬ë ˆì´í„°</title>
<style>
body { font-family: sans-serif; background:#f7f7f7; padding:20px; }
button { margin:5px; padding:8px 12px; }
.card { background:#fff; padding:10px; margin:10px 0; border-radius:6px; }
.small { color:#666; font-size:12px; }
</style>
</head>
<body>

<h2 id="date"></h2>

<button onclick="nextDay()">í•˜ë£¨ ì¼ê³¼</button>
<button onclick="showStudents()">í•™ìƒ ëª…ë‹¨</button>

<div id="main"></div>

<script>
let state = {
  dayCount: 0,
  date: new Date(2026, 2, 2),
  characters: [],
  graduatedChoices: {}
};

// ğŸ‘‰ ìºë¦­í„° ì¶”ê°€ (ì‚¬ìš©ììš©)
state.characters.push({
  name: "ì´ë¦„ì„ìˆ˜ì •í•˜ì„¸ìš”",
  grade: 1,
  personality: ["ì„±ê²©í‚¤ì›Œë“œ"],
  graduated: false,
  postGrad: null
});

function formatDate(d){
  return `${d.getMonth()+1}ì›” ${d.getDate()}ì¼`;
}

function nextDay(){
  state.dayCount++;
  state.date.setDate(state.date.getDate()+1);

  let text = "";

  state.characters.forEach(c=>{
    if(c.graduated){
      if(c.postGrad){
        text += `${c.name}ëŠ” ${c.postGrad}ë¡œì„œ í•˜ë£¨ë¥¼ ë³´ëƒˆë‹¤.\n`;
      } else {
        text += `${c.name}ëŠ” ì¡¸ì—… í›„ì˜ ì‹œê°„ì„ ë³´ë‚´ê³  ìˆë‹¤.\n`;
      }
    } else {
      text += `${c.name}ëŠ” í•™êµì—ì„œ í‰ë²”í•œ í•˜ë£¨ë¥¼ ë³´ëƒˆë‹¤.\n`;
    }
  });

  document.getElementById("main").innerText = text;
  updateDate();
  checkGraduation();
}

function updateDate(){
  document.getElementById("date").innerText =
    `${formatDate(state.date)} Â· ${state.characters.every(c=>c.graduated)?"ì¡¸ì—… ì´í›„":"ì¬í•™ ì¤‘"}`;
}

function showStudents(){
  let html = "";
  state.characters.forEach(c=>{
    html += `<div class="card">
      <b>${c.name}</b> (${c.graduated?"ì¡¸ì—…ìƒ":c.grade+"í•™ë…„"})<br>
      <span class="small">${c.personality.join(", ")}</span>
    </div>`;
  });
  document.getElementById("main").innerHTML = html;
}

function checkGraduation(){
  state.characters.forEach(c=>{
    if(!c.graduated && c.grade === 3 && state.date.getMonth() >= 1){
      c.graduated = true;
      askPostGrad(c);
    }
  });

  if(state.characters.every(c=>c.graduated)){
    document.getElementById("main").innerText =
      "ëª¨ë“  í•™ìƒì´ ì¡¸ì—…í–ˆë‹¤.\nì´ì•¼ê¸°ëŠ” ì—¬ê¸°ì„œ ëì´ ë‚œë‹¤.";
  }
}

function askPostGrad(c){
  const choice = prompt(
    `${c.name}ëŠ” ì¡¸ì—… í›„ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?\n1. ëŒ€í•™êµ\n2. ì•„ë¥´ë°”ì´íŠ¸\n3. ë°±ìˆ˜\n4. ê¸°íƒ€`
  );
  const map = {1:"ëŒ€í•™ìƒ",2:"ì•„ë¥´ë°”ì´íŠ¸",3:"ë°±ìˆ˜",4:"ë‹¤ë¥¸ ê¸¸"};
  c.postGrad = map[choice] || "ì•Œ ìˆ˜ ì—†ìŒ";
}

updateDate();
</script>

</body>
</html>
